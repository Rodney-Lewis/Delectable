<div class="container" id="scheduleContainer">
    <div class="row">
        <div class="col">
            <div class="row month">
                <div class="col">
                    {{ MONTHS[startDate.getMonth()].fullName }}
                    {{ startDate.getFullYear() }}
                </div>
                <div class="col d-flex justify-content-end mb-2">
                    <button type="button" class="btn btn-outline-primary" (click)="previousMonth()">&lt;</button>
                    <button type="button" class="btn btn-outline-primary ml-2" (click)="today()">&bull;</button>
                    <button type="button" class="btn btn-outline-primary ml-2" (click)="nextMonth()"> &gt;</button>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <table appCalendarMultiDateSelect class="table table-bordered table-sm">
                        <th class="daysInWeek" *ngFor="let weekday of WEEKDAYS">{{ weekday.abbreviatedName }}</th>
                        <tr class="tablerows" *ngFor="let week of calendar">
                            <td *ngFor="let day of week">
                                <!--
                                <a class="btn btn-link" [routerLink]="['', day.getTime()]"
                                    [routerLinkActive]="['active']"
                                    *ngIf="day.getMonth() == startDate.getMonth()">{{ day.getDate() }}</a>

                                    <div class="btn btn-link" *ngIf="day.getMonth() == startDate.getMonth() && !endDate" [data-date]="day.getTime()" [ngClass]="{'betweenactive ': day.getDate() == startDate.getDate()}">{{ day.getDate() }}</div>
                                <div class="btn btn-link" *ngIf="day.getMonth() == startDate.getMonth() && endDate" [data-date]="day.getTime()" [ngClass]="{'betweenactive ': day.getDate() >= startDate.getDate() && day.getDate() <= endDate.getDate()}">{{ day.getDate() }}</div>
                                -->
                                <div class="btn btn-link" *ngIf="!endDate" [data-date]="day.getTime()"
                                    [ngClass]="{'betweenactive ': day.getTime() == startDate.getTime()}">
                                    {{ day.getDate() }}</div>
                                <div class="btn btn-link" *ngIf="endDate" [data-date]="day.getTime()"
                                    [ngClass]="{'betweenactive ': day.getTime() >= startDate.getTime() && day.getTime() <= endDate.getTime()}">
                                    {{ day.getDate() }}</div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="max">
        <div *ngFor="let itemsScheduledOnDate of itemsScheduledByDate; let i = index" class="mt-2">
            <div class="row no-gutters">
                <div class="col font-weight-bold">
                    {{ dates[i].toDateString() }}
                </div>
            </div>
            <div class="row ml-2 mt-1" *ngIf="itemsScheduledOnDate.length == 0; else somethingSchedule">
                <div class="col">
                    Nothing scheduled!
                </div>
            </div>
            <ng-template #somethingSchedule>
                <div *ngFor="let item of itemsScheduledOnDate; let j = index" class="row ml-2 mt-1">
                    <div class="col-3 col-sm-2">
                        {{ item.mealType }}
                    </div>
                    <div class="col">
                        <span *ngIf="item.scheduleType.toLowerCase() == 'recipe'">
                            <a [routerLink]="['/recipe/detail', item.scheduledTypeId]">{{ item.scheduledItemName }}</a>
                        </span>
                        <span *ngIf="item.scheduleType.toLowerCase() == 'restaurant'">
                            <a
                                [routerLink]="['/restaurant/detail', item.scheduledTypeId]">{{ item.scheduledItemName }}</a>
                        </span>
                    </div>
                    <div class="col-auto">
                        <button type="button" (click)="delete(item.id)"
                            class="btn btn-outline-secondary btn-sm">Delete</button>
                    </div>
                </div>
            </ng-template>
        </div>
    </div>

    <div class="row justify-content-end mt-2 mb-2">
        <div class="col-auto">
            <a routerLink="/schedule/add" class="add btn btn-lg btn-primary rounded-circle" role="button">+</a>
        </div>
    </div>




    <!--

        <ng-template *ngIf="nothingScheduled; else somethingSchedule">
            <div class="row">
                <div class="col">
                    Nothing scheduled!
                </div>
            </div>
        </ng-template>
        <ng-template #somethingSchedule>
            <div class="row mb-2" *ngFor="let itemSchedule of itemsScheduled; let i = index">
                <div class="col-3 col-sm-2">
                    {{ itemSchedule.mealType }}
                </div>
                <div class="col">
                    <span *ngIf="itemSchedule.scheduleType.toLowerCase() == 'recipe'">
                        <a
                            [routerLink]="['/recipe/detail', itemSchedule.scheduledItemId]">{{ itemsScheduled[i].scheduledItemName }}</a>
                    </span>
                    <span *ngIf="itemSchedule.scheduleType.toLowerCase() == 'prepared food'">
                        <a
                            [routerLink]="['/prepared/detail', itemSchedule.scheduledItemId]">{{ itemsScheduled[i].scheduledItemName }}</a>
                    </span>
                    <span *ngIf="itemSchedule.scheduleType.toLowerCase() == 'restaurant'">
                        <a
                            [routerLink]="['/restaurant/detail', itemSchedule.scheduledItemId]">{{ itemsScheduled[i].scheduledItemName }}</a>
                    </span>
                </div>
                <div class="col-auto">
                    <button type="button" class="btn btn-outline-secondary btn-sm"
                        (click)="delete(itemSchedule.id)">Delete</button>
                </div>
            </div>
        </ng-template>
    </div>
    -->